"use strict";(self["webpackChunkwooden_fish_vue_web"]=self["webpackChunkwooden_fish_vue_web"]||[]).push([[941],{6941:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});n(7658);var i=n(3396),o=n(9242),a=n(4870),s=n(2483),l=n(2094);const p=t=>((0,i.dD)("data-v-715641fa"),t=t(),(0,i.Cn)(),t),r={class:"shaoxiang"},c={key:0,class:"note"},m=p((()=>(0,i._)("div",{class:"f"},"烧香将花费500功德，烧完可得1000功德，确定要烧香吗？",-1)));var u={__name:"ShaoXiang",setup(t){const e=(0,l.L)(),n=(0,s.tv)();let p=(0,a.qj)({center:{x:250,y:250},spiralExpanse:8,pointnum:550,points:[],animationFrame:!0,display:0});(0,i.bv)((()=>{}));const u=()=>{n.push("/")},f=()=>{p.display=1,e.setMerit(-500),v(),h()},v=()=>{for(let t=0;t<p.pointnum;t++){let e={},n=.05*-t;e.x=p.center.x+p.spiralExpanse*n*Math.cos(n),e.y=p.center.y+p.spiralExpanse*n*Math.sin(n),e.active=!0,e.life=1,p.points.push(e)}},d=()=>{var t=document.getElementById("container");if(t.getContext){var e=t.getContext("2d");e.clearRect(0,0,500,500),e.lineCap="round",e.moveTo(p.points[0].x,p.points[0].y);for(let t=1;t<p.points.length;t++)p.points[t].life<1&&!0===p.points[t].active?e.strokeStyle="rgba(244, 110, 28, "+(.1+p.points[t].life)+")":e.strokeStyle="rgba(255, 255, 255, "+(.1+p.points[t].life)+")",e.lineWidth=6*p.points[t].life+4+"",e.beginPath(),e.moveTo(p.points[t-1].x,p.points[t-1].y),e.lineTo(p.points[t].x,p.points[t].y),e.stroke()}},h=()=>{y(),p.animationFrame&&(d(),p.animationFrame=requestAnimationFrame(h))},y=()=>{let t=!1;for(let e=1;e<p.points.length;e++){let n=p.points[e],i=p.mouseX-n.x,o=p.mouseY-n.y,a=Math.sqrt(i*i+o*o);!0===p.points[e].active&&(t=!0),a<25&&!0===p.points[e].active?(p.points[e].life=p.points[e].life-.04,p.points[e].life<=0&&(p.points[e].active=!1)):!0===p.points[e].active&&p.points[e].life<1&&(p.points[e].life=p.points[e].life+.05)}!1===t&&(cancelAnimationFrame(p.animationFrame),p.animationFrame=null,b())};(0,i.Jd)((()=>{cancelAnimationFrame(p.animationFrame),p.animationFrame=null}));const _=t=>{p.mouseX=t.offsetX,p.mouseY=t.offsetY},b=()=>{alert("烧香结束，恭喜获得1000点功德！"),e.setMerit(1e3),n.push("/")};return(t,e)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.wy)((0,i._)("div",r,[(0,i._)("canvas",{id:"container",width:"500",height:"500",onMousemove:_},null,32)],512),[[o.F8,(0,a.SU)(p).display]]),(0,a.SU)(p).display?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",c,[m,(0,i._)("div",{class:"button-container"},[(0,i._)("button",{class:"b1",onClick:u},"取消"),(0,i._)("button",{class:"b2",onClick:f},"确定")])]))],64))}},f=n(89);const v=(0,f.Z)(u,[["__scopeId","data-v-715641fa"]]);var d=v}}]);
//# sourceMappingURL=941.a0d358d4.js.map